schema: '2.0'
stages:
  data_ingestion:
    cmd: python src/data/data_ingestion.py
    deps:
    - path: src/data/data_ingestion.py
      hash: md5
      md5: 3a58ce8a8449534c9791a980c4975b1d
      size: 4345
    params:
      params.yaml:
        data_ingestion.test_size: 0.2
    outs:
    - path: data/raw
      hash: md5
      md5: 88eb9ab641bf0c7dd411dd577ecfac06.dir
      size: 6613959
      nfiles: 2
  data_preprocessing:
    cmd: python src/data/data_preprocessing.py
    deps:
    - path: data/raw/test.csv
      hash: md5
      md5: 2652f4b60668b2cbf90ebf295977a2dc
      size: 1319067
    - path: data/raw/train.csv
      hash: md5
      md5: 5e27e61112e1466278938768eb85aa37
      size: 5294892
    - path: src/data/data_preprocessing.py
      hash: md5
      md5: 87c8cf7c94be3a3a5588a3082ccc4f23
      size: 3804
    outs:
    - path: data/interim
      hash: md5
      md5: cfb9193c142fffc75fe40519a5b2f1c6.dir
      size: 4472386
      nfiles: 2
  model_building:
    cmd: python src/model/model_building.py
    deps:
    - path: data/interim/train_processed.csv
      hash: md5
      md5: cf0182c54fd4f3d9d16200015660ba7d
      size: 3583484
    - path: src/model/model_building.py
      hash: md5
      md5: c5377bc8b3a54c06fffc722270b985ea
      size: 5617
    params:
      params.yaml:
        model_building.learning_rate: 0.09
        model_building.max_depth: 20
        model_building.max_features: 1000
        model_building.n_estimators: 367
        model_building.ngram_range:
        - 1
        - 3
    outs:
    - path: lgbm_model.pkl
      hash: md5
      md5: 45d268c324234e069a9285ff0c7a7ab8
      size: 2669389
    - path: tfidf_vectorizer.pkl
      hash: md5
      md5: e5e39e7f3cf5f5507e9a53cb11bee61f
      size: 36521
  model_evaluation:
    cmd: python src/model/model_evaluation.py
    deps:
    - path: data/interim/test_processed.csv
      hash: md5
      md5: e7f8f2ab3b1a16b6e89f16a0932fc5ad
      size: 888902
    - path: data/interim/train_processed.csv
      hash: md5
      md5: cf0182c54fd4f3d9d16200015660ba7d
      size: 3583484
    - path: lgbm_model.pkl
      hash: md5
      md5: 45d268c324234e069a9285ff0c7a7ab8
      size: 2669389
    - path: src/model/model_evaluation.py
      hash: md5
      md5: 4a8a5db82142719a4687521fc73a2c17
      size: 7369
    - path: tfidf_vectorizer.pkl
      hash: md5
      md5: e5e39e7f3cf5f5507e9a53cb11bee61f
      size: 36521
    outs:
    - path: experiment_info.json
      hash: md5
      md5: bb31d403ff5f3e71999230881385b4d3
      size: 87
  model_registration:
    cmd: python src/model/register_model.py
    deps:
    - path: experiment_info.json
      hash: md5
      md5: bb31d403ff5f3e71999230881385b4d3
      size: 87
    - path: src/model/register_model.py
      hash: md5
      md5: b1b20d3c96a5b91f3c09215a2759ecff
      size: 2515
